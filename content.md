$\mathrm{\large{Proof:}}$ 对于任意正整数对 $(p, q), p < q$，$q \mod{10} = 9$ 且 $q$ 为质数，其分式的循环节长度为 $q - 1$。



我们令 $\frac{p}{q}$ 的循环节长度为 $x$。

那么根据 $\mathbf{Algorithm1.}$ 可知对分子乘 $10$ 的操作次数为 $x$。

那么我们有 

$$
\begin{equation}
p \times 10^{x} \equiv p \pmod{q}
\end{equation}
$$


根据 $\mathbf{Fermat's\ little\ theorem}$，我们有 
$$
\begin{equation}
\tt{10^{q - 1} \equiv 1 \pmod{q}}
\end{equation}
$$

故可得

$$
\begin{equation}
x = q - 1
\end{equation}
$$

---
$\mathrm{\large{EX.}}$

在 $(p, q), p < q$，$q \mod{10} = 9$ 且 $q$ 为质的条件下。

使用 $\mathbf{Algorithm1.}$ 求循环节过程中得到的「余数」序列为 一个 $p - 1$ 的排列。



$\mathrm{Proof.}$ 

我们首先使用反证法来证明，这个序列不存在重复数字。

对于 

$$
\frac{p}{q} = 0.\overline{a_1a_2\cdots\ a_{\alpha}}
$$

假设其循环节存在重复数字，令重复数字为 $a_i (a_i \ne p)$，则存在 $a_i = a_j$， 其中 $i \lt j \lt \alpha$。

那么有 $a_ia_{i+1}\cdots a_{j - 1} = a_ja_{j + 1}\cdots a_{j \times 2 - i - 1}$。

那么 $\mathbf{Algorithm1.}$ 将会陷入死循环。

故其循环节不可能存在重复数字。

那么结合本文开头的证明，这个序列的长度为 $q - 1$，故而得证，「余数序列」为 $q - 1$ 的排列，且这个序列和循环节序列 **一一对应**。



根据 $\mathbf{Algorithm1.}$ 结合上述结论，对于每个 $p \in [1, q)$ 我们都可以在余数序列中找到其对应的位置。

以 $q = 19$ 为例，

当 $p = 1$ 时，其循环节和余数序列为：

```txt
 0, 5, 2, 6, 3, 1, 5, 7, 8, 9, 4, 7, 3, 6, 8, 4, 2, 1
10, 5,12, 6, 3,11,15,17,18, 9,14, 7,13,16, 8, 4, 2, 1
```

当 $p = 3$ 时，其循环节和余数序列为：

```txt
 1, 5, 7, 8, 9, 4, 7, 3, 6, 8, 4, 2, 1, 0, 5, 2, 6, 3
11,15,17,18, 9,14, 7,13,16, 8, 4, 2, 1,10, 5,12, 6, 3
```

可以发现，对于 $p = 3$ 时的循环节 $157894736842105263$；
将其前后分为 $1578947368421$ 和 $05263$；
调换顺序后拼接，便得到了 $p = 1$ 时的循环节 $052631578947368421$。





